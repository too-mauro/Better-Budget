<HTML>
<HEAD>
	<header>
    <%- include ("../partials/header") %>
</header>
	<div id="create" class="popup" align="center">
		<form action="/pooladd" method="post">
			<div align="center" style="font-size: 16px;"> <b>Create a Budget Pool</b><br><br></div>
		    <input type=number id=month min=1 max=12 step=1 required placeholder="Enter a month" /><br>
			<input type=number id=year min=2020 step=1 required placeholder="Enter a year" /><br>
			$<input type=number id=income min=0 step=0.01 required placeholder="Enter your expected income" /><br>
			<input type=text id=name required placeholder="Enter a name" /><br><br>

			<input type=submit value="Create" style="display: inline;"/><br><br>
		    <div type=button class="cancel" onclick="closeCreatePopup();">Cancel</div>
		</form>
	</div>

	<div id="update" class="popup" align="center">
		<form action="/poolupdate" method="post">
			<div align="center" style="font-size: 16px;"> <b>Update a Budget Pool</b><br><br></div>
		    <input type=number id=month min=1 max=12 step=1 required placeholder="Enter a month" /><br>
			<input type=number id=year min=2020 step=1 required placeholder="Enter a year" /><br>
			$<input type=number id=income min=0 step=0.01 required placeholder="Enter your expected income" /><br>
			<input type=text id=name required placeholder="Enter a name" /><br><br>

			<input type=submit value="Update" style="display: inline;"/><br><br>
		    <div type=button class="cancel" onclick="closeUpdatePopup();">Cancel</div>
		</form>
	</div>

	<div id="delete" class="popup" align="center">
		<form action="/pooldel" method="post">
			<div align="center" style="font-size: 16px;"> <b>Delete a Budget Pool</b><br><br></div>
		    <input type=number id=budgetID min=1 step=1 required placeholder="Enter budget ID" /><br><br>
			
			<input type=submit value="Delete" style="display: inline;"/><br><br>
		    <div type=button class="cancel" onclick="closeDeletePopup();">Cancel</div>
		</form>
	</div>
</HEAD>
<BODY>

	<fieldset class=mainwin>
		<div id=win align="center">
			<h2>Budget Pools</h2>
			<button id="createBudget" onClick="openCreatePopup();">Create Budget Pool</button><emsp>
			<button id="updateBudget" onClick="openUpdatePopup();">Update Budget Pool</button><emsp>
			<button id="deleteBudget" onClick="openDeletePopup();">Delete Budget Pool</button><br><br>

			<% if(message !== null){ %>
	          <%- message %>
	        <% } %>
	        <% if(error !== null){ %>
		      <p><%- error %></p>
		    <% } %><br><br>
		</div>
	</fieldset>
	<br><br><br>

</BODY>
</HTML>

<script>
function openCreatePopup() {
	document.getElementById('win').style.display = 'none';
	if (document.getElementById('delete').style.display == 'block') {
		document.getElementById('delete').style.display = 'none';
	}
	else if (document.getElementById('update').style.display == 'block') {
		document.getElementById('update').style.display = 'none';
	}
    document.getElementById('create').style.display = 'block';
}

function closeCreatePopup() {
    document.getElementById('create').style.display = 'none';
    document.getElementById('win').style.display = 'block';
}

function openUpdatePopup() {
	document.getElementById('win').style.display = 'none';
	if (document.getElementById('delete').style.display == 'block') {
		document.getElementById('delete').style.display = 'none';
	}
	else if (document.getElementById('create').style.display == 'block') {
		document.getElementById('create').style.display = 'none';
	}
    document.getElementById('update').style.display = 'block';
}

function closeUpdatePopup() {
    document.getElementById('update').style.display = 'none';
    document.getElementById('win').style.display = 'block';
}

function openDeletePopup() {
	document.getElementById('win').style.display = 'none';
	if (document.getElementById('create').style.display == 'block') {
		document.getElementById('create').style.display = 'none';
	}
	else if (document.getElementById('update').style.display == 'block') {
		document.getElementById('update').style.display = 'none';
	}
    document.getElementById('delete').style.display = 'block';
}

function closeDeletePopup() {
    document.getElementById('delete').style.display = 'none';
    document.getElementById('win').style.display = 'block';
}
</script>